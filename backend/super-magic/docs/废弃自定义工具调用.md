# 自定义工具调用功能废弃清单

本文档列出了所有需要废弃的与自定义工具调用功能相关的文件和代码。

## 1. 需删除的文件

整个自定义工具调用目录及其所有文件：

- `app/llm/custom_tool_calling/__init__.py`
- `app/llm/custom_tool_calling/extension.py`
- `app/llm/custom_tool_calling/parser.py`

## 2. 需修改的文件

### app/llm/factory.py

需要删除的代码：

- 第14行导入：`from app.llm.custom_tool_calling import LLMFactoryWithCustomToolCalling`
- `LLMClientConfig` 类中的 `use_custom_tool_calling: bool = False` 字段
- `get` 方法中关于 `use_custom_tool_calling` 的设置代码
- `call_with_tool_support` 方法中关于使用 `LLMFactoryWithCustomToolCalling` 的注释

### config/config.yaml

需要删除的配置：

- `deepseek-reasoner` 模型配置中的 `use_custom_tool_calling: true` 字段

## 3. 相关文档文件（可选择是否删除）

- `docs/tool_calling/implementation_steps.md`
- `docs/tool_calling/custom_tool_calling_implementation.md`
- `docs/tool_calling/implementation_todo.md`
- `docs/custom_tool_calling_todo.md`

## 4. 注意事项

1. 确保删除代码后，所有依赖该功能的系统部分都能正常工作
2. `deepseek-reasoner` 模型可能需要调整配置，确保它能通过标准方式使用工具调用
3. 删除前确认当前是否有业务逻辑依赖自定义工具调用功能

## 5. 删除步骤建议

1. 先修改 `app/llm/factory.py`，移除对自定义工具调用功能的引用
2. 修改配置文件，移除 `use_custom_tool_calling` 相关设置
3. 最后删除 `app/llm/custom_tool_calling` 目录及其文件
4. 如需要，可以保留相关文档作为历史记录
