# 对象存储服务

agent 产出的所有文件都会被上传到对象存储服务中

app/infrastructure/storage 目录下定义了对象存储服务的接口和实现

## 对象存储服务接口

app/infrastructure/storage/base.py 定义了对象存储服务的接口

app/infrastructure/storage/types.py 定义了对象存储服务的类型，各种云厂商的配置参数配置在这里面定义

## 对象存储服务实现

app/infrastructure/storage/volcengine.py 定义了火山引擎的对象存储服务实现

## 凭证管理

凭证管理功能负责处理存储凭证的导出和使用：

1. **凭证自动导出**: WebSocket连接建立时，接收到的存储凭证会自动导出到`config/upload_credentials.json`文件，以便其他工具使用
2. **凭证格式**: 采用统一的JSON格式，包含平台类型、临时凭证等信息
3. **凭证工具**: 
   - `app/utils/credential_utils.py`提供了凭证导出和加载功能
   - `bin/export_creds.py`命令行工具可手动导出凭证到指定位置

上传工具`bin/tos_uploader.py`会自动使用这些凭证，确保文件能正确上传到对象存储服务。



